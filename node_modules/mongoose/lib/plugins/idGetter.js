'use strict';

/*!
 * ignore
 */

module.exports = function(schema) {
  // ensure the documents receive an id getter unless disabled
  var autoIdGetter = !schema.paths['id'] &&
<<<<<<< HEAD
=======
<<<<<<< HEAD
      (!schema.options.noVirtualId && schema.options.id);
  if (autoIdGetter) {
    schema.virtual('id').get(idGetter);
  }
=======
>>>>>>> f09d3ae3d6463bb3bc841a1f35ac01942f76623a
    (!schema.options.noVirtualId && schema.options.id);
  if (!autoIdGetter) {
    return;
  }

  schema.virtual('id').get(idGetter);
<<<<<<< HEAD
=======
>>>>>>> 0f49b6b741d7ccdaba3978328fe07a9401b1b6cd
>>>>>>> f09d3ae3d6463bb3bc841a1f35ac01942f76623a
};

/*!
 * Returns this documents _id cast to a string.
 */

function idGetter() {
  if (this._id != null) {
    return String(this._id);
  }

  return null;
}
